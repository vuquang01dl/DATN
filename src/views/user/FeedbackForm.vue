<template>
  <div class="container py-5">
    <div class="card shadow-sm mx-auto" style="max-width: 600px">
      <div class="card-body">
        <h4 class="mb-4 text-center">‚úçÔ∏è G·ª≠i ph·∫£n h·ªìi c·ªßa b·∫°n</h4>
        <form @submit.prevent="submitFeedback">
          <div class="mb-3">
            <label class="form-label">Ch·ªçn tour</label>
            <select v-model="form.tourID" class="form-select" required>
              <option disabled value="">-- Ch·ªçn tour --</option>
              <option v-for="t in tours" :key="t.id" :value="t.id">{{ t.name }}</option>
            </select>
          </div>

          <div class="mb-3">
            <label class="form-label">N·ªôi dung ph·∫£n h·ªìi</label>
            <textarea v-model="form.content" class="form-control" rows="4" required></textarea>
          </div>

          <button type="submit" class="btn btn-primary w-100">G·ª≠i ph·∫£n h·ªìi</button>
        </form>
      </div>
    </div>
  </div>
</template>

<script>
// import axios from 'axios';

export default {
  name: 'FeedbackForm',
  data() {
    return {
      form: {
        feedbackID: '',
        content: '',
        date: new Date().toISOString(),
        customerID: '00000000-0000-0000-0000-000000000001',
        tourID: ''
      },
      tours: [
        { id: '1', name: 'Tour ƒê√† L·∫°t 3N2ƒê' },
        { id: '2', name: 'Tour Ph√∫ Qu·ªëc 4N3ƒê' },
        { id: '3', name: 'Tour Nha Trang 2N1ƒê' }
      ]
    };
  },
  methods: {
    submitFeedback() {
      console.log("üì© G·ª≠i ph·∫£n h·ªìi:", this.form);

      // G·ªçi API khi backend s·∫µn s√†ng:
      // await axios.post("http://localhost:5017/api/feedback", this.form)
      //   .then(res => alert("‚úîÔ∏è G·ª≠i ph·∫£n h·ªìi th√†nh c√¥ng!"))
      //   .catch(err => alert("‚ùå L·ªói g·ª≠i ph·∫£n h·ªìi!"));

      alert("‚úîÔ∏è G·ª≠i ph·∫£n h·ªìi th√†nh c√¥ng (gi·∫£ l·∫≠p)");
      this.form.content = '';
      this.form.tourID = '';
    }
  }
};
</script>

<style scoped>
.card {
  border-radius: 1rem;
}
.card-body {
  padding: 2rem;
}
.form-label {
  font-weight: 600;
}
</style>
